---
import Layout from '../../layouts/Layout.astro';
import queryCMS from '../../lib/cms';
import getAvailableLocales, { getFallbackLocale } from '../../lib/i18n';
import Heading from '../../components/Heading.astro';
import Line from '../../components/Line.astro';

export async function getStaticPaths() {
  const availableLocales = await getAvailableLocales();  
  return availableLocales.map(locale => ({
    params: { locale }
  }));
}

const fallbackLocale = await getFallbackLocale();
const { locale } = Astro.params;

const query = `
  query {
    layout {
      logo {
        url
        alt
      }
      logoDark {
        url
        alt
      }
    }
  }
`;

const { layout } = await queryCMS(query, { locale, fallbackLocale });
---

<Layout logos={[layout.logo, layout.logoDark]}>    
  <section>
    <Heading index="01" text="About" />      
    <Line />
    <div class="pt-6 px-4 pb-4">
      <p class="text-xs leading-5">About this template</p>
    </div>
  </section>      
</Layout>